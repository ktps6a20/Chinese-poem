<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>中國古詩選 · 五七言絕律</title>
  <meta name="description" content="二十首中國古詩，涵蓋五言絕句、七言絕句、五言律詩、七言律詩，支援分類與搜尋。" />
  <style>
    :root {
      --bg: #0f1224;
      --card: #171a2f;
      --text: #e7e9f4;
      --muted: #b7bbd0;
      --accent: #8aa4ff;
      --accent-2: #f5a623;
      --border: #2a2e49;
      --green: #4cd4a7;
      --red: #ff6f6f;
    }
    * { box-sizing: border-box; }
    html, body { margin:0; padding:0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", "PingFang HK", "Microsoft JhengHei", "Noto Sans CJK", "Hiragino Sans", "Helvetica Neue", Arial, "Noto Sans", sans-serif; }
    a { color: var(--accent); text-decoration: none; }
    header {
      padding: 32px 20px 12px;
      max-width: 980px; margin: 0 auto;
    }
    header h1 { margin: 0 0 8px; font-size: 28px; letter-spacing: 0.5px; }
    header p { margin: 0; color: var(--muted); }
    .controls {
      max-width: 980px; margin: 16px auto 8px; padding: 16px; background: var(--card);
      border: 1px solid var(--border); border-radius: 12px;
      display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
    }
    .controls .group { display: flex; gap: 8px; align-items: center; }
    .chip {
      padding: 8px 12px; border: 1px solid var(--border); border-radius: 999px;
      background: #1c2040; color: var(--text); cursor: pointer; font-size: 14px;
    }
    .chip.active { border-color: var(--accent); box-shadow: 0 0 0 2px rgb(138 164 255 / 18%); }
    .search {
      width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--border);
      background: #12142a; color: var(--text);
    }
    .stats { max-width: 980px; margin: 8px auto; color: var(--muted); font-size: 14px; }
    .grid {
      max-width: 980px; margin: 12px auto 40px;
      display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px;
    }
    @media (max-width: 720px) { .grid { grid-template-columns: 1fr; } .controls { grid-template-columns: 1fr; } }
    .card {
      background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px;
      transition: transform 120ms ease, box-shadow 120ms ease;
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.25); }
    .meta { display:flex; gap:8px; align-items:center; margin-bottom:8px; color: var(--muted); font-size: 13px; }
    .title { font-size: 18px; margin: 0 0 8px; }
    .poet { color: var(--accent-2); font-weight: 600; }
    .tags { margin-top: 8px; display:flex; gap:8px; flex-wrap:wrap; }
    .tag { font-size: 12px; color: var(--muted); border: 1px dashed var(--border); padding: 4px 8px; border-radius: 999px; }
    .text { white-space: pre-wrap; line-height: 1.8; font-size: 16px; }
    footer {
      max-width: 980px; margin: 0 auto 40px; padding: 12px 20px; color: var(--muted);
      border-top: 1px solid var(--border);
    }
    .empty { padding: 28px; text-align: center; color: var(--muted); border: 1px dashed var(--border); border-radius: 12px; background: #131634; }
  </style>
</head>
<body>
  <header>
    <h1>中國古詩選 · 五七言絕律</h1>
    <p>精選 20 首唐宋古詩，支援按體裁篩選與全文搜尋。</p>
  </header>

  <section class="controls" aria-label="篩選與搜尋">
    <div class="group" id="form-types">
      <button class="chip active" data-type="all">全部</button>
      <button class="chip" data-type="五言絕句">五言絕句</button>
      <button class="chip" data-type="七言絕句">七言絕句</button>
      <button class="chip" data-type="五言律詩">五言律詩</button>
      <button class="chip" data-type="七言律詩">七言律詩</button>
    </div>
    <div class="group" style="gap:0">
      <input class="search" id="search" type="search" placeholder="輸入關鍵字、作者或詩名……" />
    </div>
  </section>

  <div class="stats" id="stats">顯示 20 首 · 體裁：全部</div>

  <main class="grid" id="grid" aria-live="polite"></main>

  <footer>
    本頁內容以公開領域古詩為主，供學習與展示使用。你可在 GitHub Pages 直接部署此檔作為靜態網站。
  </footer>

  <script>
    // 詩庫：title, poet, era, form, text, tags
    const POEMS = [
      // 五言絕句（5）
      { title: "春曉", poet: "孟浩然", era: "唐", form: "五言絕句",
        text: "春眠不覺曉，處處聞啼鳥。\n夜來風雨聲，花落知多少。",
        tags: ["春景","自然","感時"] },
      { title: "鹿柴", poet: "王維", era: "唐", form: "五言絕句",
        text: "空山不見人，但聞人語響。\n返景入深林，復照青苔上。",
        tags: ["山林","寂寥","禪意"] },
      { title: "竹里館", poet: "王維", era: "唐", form: "五言絕句",
        text: "獨坐幽篁里，彈琴復長嘯。\n深林人不知，明月來相照。",
        tags: ["月夜","幽居","琴嘯"] },
      { title: "相思", poet: "王維", era: "唐", form: "五言絕句",
        text: "紅豆生南國，春來發幾枝。\n願君多採擷，此物最相思。",
        tags: ["相思","紅豆","情感"] },
      { title: "送別", poet: "王維", era: "唐", form: "五言絕句",
        text: "山中相送罷，日暮掩柴扉。\n春草年年綠，王孫歸不歸？",
        tags: ["送別","歸期","山居"] },

      // 七言絕句（7）
      { title: "登鸛雀樓", poet: "王之渙", era: "唐", form: "七言絕句",
        text: "白日依山盡，黃河入海流。\n欲窮千里目，更上一層樓。",
        tags: ["登高","志向","宏觀"] },
      { title: "夜泊牛渚懷古", poet: "李白", era: "唐", form: "七言絕句",
        text: "牛渚西江夜，青天無片雲。\n登舟望秋月，空憶謝將軍。",
        tags: ["懷古","月夜","長江"] },
      { title: "望廬山瀑布", poet: "李白", era: "唐", form: "七言絕句",
        text: "日照香爐生紫煙，遙看瀑布掛前川。\n飛流直下三千尺，疑是銀河落九天。",
        tags: ["山水","壯觀","廬山"] },
      { title: "暮江吟", poet: "白居易", era: "唐", form: "七言絕句",
        text: "一道殘陽鋪水中，半江瑟瑟半江紅。\n可憐九月初三夜，露似珍珠月似弓。",
        tags: ["江景","秋色","月夜"] },
      { title: "秋夕", poet: "杜牧", era: "唐", form: "七言絕句",
        text: "銀燭秋光冷畫屏，輕羅小扇撲流螢。\n天階夜色涼如水，坐看牽牛織女星。",
        tags: ["秋夜","宮廷","星河"] },
      { title: "清明", poet: "杜牧", era: "唐", form: "七言絕句",
        text: "清明時節雨紛紛，路上行人欲斷魂。\n借問酒家何處有？牧童遙指杏花村。",
        tags: ["清明","旅途","鄉村"] },
      { title: "烏衣巷", poet: "劉禹錫", era: "唐", form: "七言絕句",
        text: "朱雀橋邊野草花，烏衣巷口夕陽斜。\n舊時王謝堂前燕，飛入尋常百姓家。",
        tags: ["興亡","懷古","市井"] },

      // 五言律詩（4）
      { title: "山居秋暝", poet: "王維", era: "唐", form: "五言律詩",
        text: "空山新雨後，天氣晚來秋。\n明月松間照，清泉石上流。\n竹喧歸浣女，蓮動下漁舟。\n隨意春芳歇，王孫自可留。",
        tags: ["山居","秋景","恬淡"] },
      { title: "鳥鳴澗", poet: "王維", era: "唐", form: "五言律詩",
        text: "人閒桂花落，夜靜春山空。\n月出驚山鳥，時鳴春澗中。",
        tags: ["春山","夜月","幽靜"] },
      { title: "送元二使安西", poet: "王維", era: "唐", form: "五言律詩",
        text: "渭城朝雨浥輕塵，客舍青青柳色新。\n勸君更盡一杯酒，西出陽關無故人。",
        tags: ["送別","友誼","西行"] },
      { title: "登岳陽樓", poet: "杜甫", era: "唐", form: "五言律詩",
        text: "昔聞洞庭水，今上岳陽樓。\n吳楚東南坼，乾坤日夜浮。\n親朋無一字，老病有孤舟。\n戎馬關山北，憑軒涕泗流。",
        tags: ["登樓","感慨","天下"] },

      // 七言律詩（4）
      { title: "春望", poet: "杜甫", era: "唐", form: "七言律詩",
        text: "國破山河在，城春草木深。\n感時花濺淚，恨別鳥驚心。\n烽火連三月，家書抵萬金。\n白頭搔更短，渾欲不勝簪。",
        tags: ["安史","感時","家國"] },
      { title: "登高", poet: "杜甫", era: "唐", form: "七言律詩",
        text: "風急天高猿嘯哀，渚清沙白鳥飛迴。\n無邊落木蕭蕭下，不盡長江滾滾來。\n萬里悲秋常作客，百年多病獨登台。\n艱難苦恨繁霜鬢，潦倒新停濁酒杯。",
        tags: ["秋感","登高","長江"] },
      { title: "錦瑟", poet: "李商隱", era: "唐", form: "七言律詩",
        text: "錦瑟無端五十弦，一弦一柱思華年。\n莊生曉夢迷蝴蝶，望帝春心託杜鵑。\n滄海月明珠有淚，藍田日暖玉生煙。\n此情可待成追憶，只是當時已惘然。",
        tags: ["象徵","追憶","情思"] },
      { title: "黃鶴樓", poet: "崔顥", era: "唐", form: "七言律詩",
        text: "昔人已乘黃鶴去，此地空餘黃鶴樓。\n黃鶴一去不復返，白雲千載空悠悠。\n晴川歷歷漢陽樹，芳草萋萋鸚鵡洲。\n日暮鄉關何處是？煙波江上使人愁。",
        tags: ["黃鶴樓","懷古","鄉愁"] }
    ];

    const grid = document.getElementById('grid');
    const stats = document.getElementById('stats');
    const chips = Array.from(document.querySelectorAll('.chip'));
    const searchInput = document.getElementById('search');

    let state = { type: 'all', q: '' };

    function render() {
      const q = state.q.trim();
      const filtered = POEMS.filter(p => {
        const typeOk = state.type === 'all' ? true : p.form === state.type;
        const qOk = q.length === 0 ? true :
          (p.title + p.poet + p.era + p.form + p.text + (p.tags||[]).join(''))
            .toLowerCase()
            .includes(q.toLowerCase());
        return typeOk && qOk;
      });

      stats.textContent = `顯示 ${filtered.length} 首 · 體裁：${state.type === 'all' ? '全部' : state.type}`;

      grid.innerHTML = '';
      if (filtered.length === 0) {
        grid.innerHTML = `<div class="empty">沒有符合的詩作，請更換關鍵字或分類。</div>`;
        return;
      }

      for (const p of filtered) {
        const el = document.createElement('article');
        el.className = 'card';
        el.innerHTML = `
          <div class="meta"><span class="poet">${p.poet}</span> · <span>${p.era}</span> · <span>${p.form}</span></div>
          <h2 class="title">${p.title}</h2>
          <div class="text">${escapeHtml(p.text)}</div>
          <div class="tags">${(p.tags||[]).map(t => `<span class="tag">#${t}</span>`).join('')}</div>
        `;
        grid.appendChild(el);
      }
    }

    function escapeHtml(s) {
      return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
    }

    // 事件：分類 chip
    chips.forEach(chip => {
      chip.addEventListener('click', () => {
        chips.forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        state.type = chip.dataset.type;
        render();
      });
    });

    // 事件：搜尋
    searchInput.addEventListener('input', () => {
      state.q = searchInput.value;
      render();
    });

    // 初始渲染
    render();
  </script>
</body>
</html>
